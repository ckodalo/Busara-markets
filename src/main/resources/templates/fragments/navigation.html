<!--
// v0 by Vercel.
// https://v0.dev/t/Cm7SBOSN6ju
-->

<header th:fragment="navigation" class="bg-gray-100 dark:bg-gray-900 border-b border-gray-200 dark:border-gray-800 px-4 lg:px-6 h-16 flex items-center justify-between">
    <nav class="flex items-center gap-4 sm:gap-6">
        <a class="flex items-center gap-2 font-semibold text-gray-900 dark:text-gray-50" href="#">
            <svg
                    xmlns="http://www.w3.org/2000/svg"
                    width="24"
                    height="24"
                    viewBox="0 0 24 24"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="2"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    class="h-6 w-6"
            >
                <line x1="12" x2="12" y1="20" y2="10"></line>
                <line x1="18" x2="18" y1="20" y2="4"></line>
                <line x1="6" x2="6" y1="20" y2="16"></line>
            </svg>
            <span>Predictions</span>
        </a>
        <a class="text-sm font-medium hover:underline underline-offset-4 text-gray-600 dark:text-gray-400" href="#">
            Markets
        </a>
        <a class="text-sm font-medium hover:underline underline-offset-4 text-gray-600 dark:text-gray-400" href="#">
            Sports
        </a>
        <a class="text-sm font-medium hover:underline underline-offset-4 text-gray-600 dark:text-gray-400" href="#">
            Politics
        </a>
        <a class="text-sm font-medium hover:underline underline-offset-4 text-gray-600 dark:text-gray-400" href="#">
            Entertainment
        </a>
        <a class="text-sm font-medium hover:underline underline-offset-4 text-gray-600 dark:text-gray-400" href="#">
            Technology
        </a>
    </nav>
    <div class="flex items-center gap-4">
        <button class="inline-flex items-center justify-center whitespace-nowrap text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 hover:bg-accent hover:text-accent-foreground h-10 w-10 rounded-full">
            <svg
                    xmlns="http://www.w3.org/2000/svg"
                    width="24"
                    height="24"
                    viewBox="0 0 24 24"
                    fill="none"
                    stroke="currentColor"
                    stroke-width="2"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    class="h-5 w-5 text-gray-500 dark:text-gray-400"
            >
                <circle cx="11" cy="11" r="8"></circle>
                <path d="m21 21-4.3-4.3"></path>
            </svg>
            <span class="sr-only">Search</span>
        </button>
<!--        <span-->
<!--                class="relative flex shrink-0 overflow-hidden rounded-full h-9 w-9"-->
<!--                type="button"-->
<!--                id="radix-:r6:"-->
<!--                aria-haspopup="menu"-->
<!--                aria-expanded="false"-->
<!--                data-state="closed"-->
<!--        >-->
<!--      <span class="flex h-full w-full items-center justify-center rounded-full bg-muted">JP</span>-->
<!--      <span class="sr-only">Toggle </span>-->
<!--    </span>-->
        <!-- Conditional User Button -->
        <div th:if="${user != null}" class="relative flex shrink-0 overflow-hidden rounded-full h-9 w-9">
            <span class="flex h-full w-full items-center justify-center rounded-full bg-muted" th:text="${user.initials}">JP</span>
            <span class="sr-only">User Menu</span>
        </div>
        <button th:if="${user == null}" onClick="openLoginModal()" class="text-sm font-medium text-gray-500 hover:text-gray-700">
            Log In
        </button>
    </div>

    <!-- Login Modal -->
    <div id="loginModal" class="fixed inset-0 flex items-center justify-center bg-gray-800 bg-opacity-50 hidden">
        <div class="bg-white p-8 rounded-lg shadow-lg w-full max-w-md">
            <div th:insert="~{fragments/login-modal :: loginModalFragment}"></div>
        </div>
    </div>

    <!-- Signup Modal -->
    <div id="signupModal" class="fixed inset-0 flex items-center justify-center bg-gray-800 bg-opacity-50 hidden">
        <div class="bg-white p-8 rounded-lg shadow-lg w-full max-w-md">
            <div th:insert="~{fragments/signup-modal :: signupModalFragment}"></div>
        </div>
    </div>

    <script>
        function openLoginModal() {
            document.getElementById('loginModal').classList.remove('hidden');
        }

        function closeLoginModal() {
            document.getElementById('loginModal').classList.add('hidden');
        }

        function openSignupModal() {
            document.getElementById('signupModal').classList.remove('hidden');
        }

        function closeSignupModal() {
            document.getElementById('signupModal').classList.add('hidden');
        }

         function openLoginModalSpecial() {
            document.getElementById('signupModal').classList.add('hidden');
            document.getElementById('loginModal').classList.remove('hidden');
        }
    </script>
</header>



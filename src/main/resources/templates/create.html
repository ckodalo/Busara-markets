
<div class="max-w-2xl mt-12 mx-auto p-4 sm:p-6 lg:p-8 bg-white shadow-md rounded-lg">
  <h1 class="font-semibold text-2xl text-gray-800 leading-tight mb-6">Create Market</h1>
  <form sec:authorize="isAuthenticated()" th:action="@{/markets/create}" method="post" class="space-y-6">
    <!-- Title Field -->
    <div>
      <label for="title" class="block font-medium text-sm text-gray-700 mb-1">Question:</label>
      <input type="text" class="block w-full border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-md shadow-sm" id="title" name="title" required>
    </div>

    <!-- Description Field -->
    <div>
      <label for="description" class="block font-medium text-sm text-gray-700 mb-1">Description:</label>
      <textarea class="block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm" id="description" name="description" placeholder="A little description wouldn't hurt" rows="2" required></textarea>
    </div>

    <!-- Market Type Field -->
    <div>
      <label for="marketType" class="block font-medium text-sm text-gray-700 mb-1">Market Type:</label>
      <select th:onchange="handleMarketTypeChange()" id="marketType" name="marketType" class="block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm" required>
        <option value="" disabled selected>Select Market Type</option>
        <option value="YesNo">Yes or No</option>
        <option value="MultipleChoice">Multiple Choice</option>
        <option value="Poll">Poll</option>
      </select>
    </div>

    <!-- Categories Field -->
    <div>
      <label for="category" class="block font-medium text-sm text-gray-700 mb-1">Category:</label>
      <select id="category" name="category" class="block w-full border-gray-300 focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50 rounded-md shadow-sm" required>
        <option value="" disabled selected>Select Category</option>
        <option value="Local Politics">Local Politics</option>
        <option value="International Politics">International Politics</option>
        <option value="Celebrity Gossip">Celebrity Gossip</option>
        <option value="Entertainment">Entertainment</option>
        <option value="Local Sports">Local Sports</option>
        <option value="International Sports">International Sports</option>
        <option value="English Premier League">English Premier League</option>
        <option value="Kenyan Government">Kenyan Government</option>
        <!-- Add more categories as needed -->
      </select>
    </div>

    <!-- Resolution Date Field -->
    <div>
      <label for="closingDate" class="block font-medium text-sm text-gray-700 mb-1">Resolution Date:</label>
      <input type="date" class="block w-full border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-md shadow-sm" id="closingDate" name="closingDate" required>
    </div>

    <!-- Securities Section -->
    <div id="securities" class="space-y-4">
      <!-- Yes/No Market: No securities needed -->
      <div id="yesNoSection" class="hidden p-4 bg-gray-50 rounded-md border border-gray-200">
        <!-- Hidden inputs for 'yes' and 'no' are added dynamically -->
      </div>

      <!-- MultipleChoice and Poll Markets: Securities needed -->
      <div id="multipleChoicePollSection" class="hidden p-4 bg-gray-50 rounded-md border border-gray-200">
        <h2 class="font-medium text-lg text-gray-700 mb-2">Add Securities</h2>
        <div id="security-inputs" class="space-y-2">
          <div class="security-input flex items-center space-x-2">
            <label for="security1" class="block font-medium text-sm text-gray-700">Security:</label>
            <input type="text" class="border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-md shadow-sm flex-1" id="security1" name="security" required>
          </div>
          <div class="security-input flex items-center space-x-2">
            <label for="security2" class="block font-medium text-sm text-gray-700">Security:</label>
            <input type="text" class="border-gray-300 focus:border-indigo-500 focus:ring-indigo-500 rounded-md shadow-sm flex-1" id="security2" name="security" required>
          </div>
        </div>
        <button th:onclick="addSecurityInput()" type="button" id="addSecurity" class="mt-2 inline-flex items-center px-3 py-1 bg-gray-600 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-gray-700 focus:bg-gray-700 active:bg-gray-800 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 transition ease-in-out duration-150">Add Security</button>
      </div>
    </div>

    <!-- Submit Button -->
    <button type="submit" class="mt-4 inline-flex items-center px-4 py-2 bg-gray-800 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-gray-700 focus:bg-gray-700 active:bg-gray-900 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 transition ease-in-out duration-150">Add Market</button>
  </form>
</div>
